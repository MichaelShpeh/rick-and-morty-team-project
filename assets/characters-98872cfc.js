import"./main-43efaf24.js";const y="https://rickandmortyapi.com/api/character",Y=new URL("/rick-and-morty-team-project/assets/characters-ba1e72bb.html",self.location),L=new URL("data:application/octet-stream;base64,PGFydGljbGUgY2xhc3M9ImNoYXJhY3Rlci1jYXJkIj4KICAgIDxkaXYgY2xhc3M9ImNoYXJhY3Rlci1jYXJkX19pbWFnZS13cmFwcGVyIj4KICAgICAgICA8aW1nIHNyYz0ie3tpbWFnZX19IiBhbHQ9Int7bmFtZX19IiBjbGFzcz0iY2hhcmFjdGVyLWNhcmRfX2ltYWdlIiAvPgogICAgPC9kaXY+CgogICAgPGRpdiBjbGFzcz0iY2hhcmFjdGVyLWNhcmRfX2JvZHkiPgogICAgICAgIDxoMyBjbGFzcz0iY2hhcmFjdGVyLWNhcmRfX25hbWUiPnt7bmFtZX19PC9oMz4KICAgICAgICA8cCBjbGFzcz0iY2hhcmFjdGVyLWNhcmRfX29yaWdpbiI+CiAgICAgICAgICAgIDxzdHJvbmcgY2xhc3M9ImNoYXJhY3Rlci1jYXJkX19vcmlnaW4tLWNsIj5PcmlnaW46PC9zdHJvbmc+IHt7b3JpZ2lufX0KICAgICAgICA8L3A+CiAgICAgICAgPHAgY2xhc3M9ImNoYXJhY3Rlci1jYXJkX19sb2NhdGlvbiI+CiAgICAgICAgICAgIDxzdHJvbmcgY2xhc3M9ImNoYXJhY3Rlci1jYXJkX19sb2NhdGlvbi0tY2wiPkxvY2F0aW9uOjwvc3Ryb25nPiB7e2xvY2F0aW9ufX0KICAgICAgICA8L3A+CiAgICA8L2Rpdj4KPC9hcnRpY2xlPg==",self.location);let C=null;const v=1440;let A=10;function w(){A=window.innerWidth>=v?20:10}w();window.addEventListener("resize",w);let s=[],g=0,l=null,h=!1;function I(){document.querySelectorAll(".dropdown.dropdown--open").forEach(t=>t.classList.remove("dropdown--open"))}function X(){const t=document.querySelectorAll(".dropdown");t.length&&(t.forEach(e=>{const n=e.dataset.select,r=e.querySelector(".dropdown__trigger"),o=e.querySelector(".dropdown__value"),i=e.querySelectorAll(".dropdown__item"),c=document.getElementById(`filter-${n}`);if(!r||!o||!i.length||!c)return;const f=c.options[c.selectedIndex];if(f){const a=f.value,d=f.textContent.trim();o.textContent=d,i.forEach(u=>u.classList.toggle("dropdown__item--selected",u.dataset.value===a))}r.addEventListener("click",a=>{a.stopPropagation();const d=e.classList.contains("dropdown--open");I(),d||e.classList.add("dropdown--open")}),i.forEach(a=>{a.addEventListener("click",()=>{const d=a.dataset.value,u=a.textContent.trim();o.textContent=u,i.forEach(p=>p.classList.toggle("dropdown__item--selected",p===a)),c.value=d,c.dispatchEvent(new Event("change",{bubbles:!0})),I()})})}),document.addEventListener("click",e=>{e.target.closest(".dropdown")||I()}))}async function x(){const t=document.getElementById("characters-root"),n=await(await fetch(Y)).text();t.innerHTML+=n}async function P(){const e=await(await fetch(L)).text();C=Handlebars.compile(e)}async function j(t){const e=`${y}?page=${t}`,n=await fetch(e);if(!n.ok)throw new Error("Failed to load characters");return n.json()}async function E(){var n;const t=g+1,e=await j(t);l=((n=e.info)==null?void 0:n.pages)??null,g=t,s=s.concat(e.results||[])}async function k(t){for(;s.length<t&&(l===null||g<l);)await E()}function F(t,e=!1){const n=document.getElementById("characters-list"),r=t.map(o=>{var i,c;return C({name:o.name,image:o.image,origin:((i=o.origin)==null?void 0:i.name)||"Unknown",location:((c=o.location)==null?void 0:c.name)||"Unknown"})}).join("");e?n.insertAdjacentHTML("beforeend",r):n.innerHTML=r}function m(){const t=document.getElementById("characters-load-more");if(!t)return;const n=(s.length>0||l===null||g<l)&&!h;t.style.display=n?"inline-block":"none",t.disabled=!n}async function b(t){const e=A;await k(e);const n=s.splice(0,e);if(n.length===0){m();return}F(n,t),m()}async function B(){g=0,l=null,s=[],await b(!1)}async function W(){if(!h)try{h=!0,m(),await b(!0)}catch(t){console.error(t)}finally{h=!1,m()}}function G(){const t=document.getElementById("characters-load-more");t&&t.addEventListener("click",W)}async function N(){await x(),X(),await P(),G(),await B()}document.addEventListener("DOMContentLoaded",N);
