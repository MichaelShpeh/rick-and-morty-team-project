import"./main-d6b43eba.js";const A="https://rickandmortyapi.com/api/character",y=new URL("/rick-and-morty-team-project/assets/characters-e8f3317f.html",self.location),w=new URL("data:application/octet-stream;base64,PGFydGljbGUgY2xhc3M9ImNoYXJhY3Rlci1jYXJkIj4KICAgIDxkaXYgY2xhc3M9ImNoYXJhY3Rlci1jYXJkX19pbWFnZS13cmFwcGVyIj4KICAgICAgICA8aW1nIHNyYz0ie3tpbWFnZX19IiBhbHQ9Int7bmFtZX19IiBjbGFzcz0iY2hhcmFjdGVyLWNhcmRfX2ltYWdlIiAvPgogICAgPC9kaXY+CgogICAgPGRpdiBjbGFzcz0iY2hhcmFjdGVyLWNhcmRfX2JvZHkiPgogICAgICAgIDxoMyBjbGFzcz0iY2hhcmFjdGVyLWNhcmRfX25hbWUiPnt7bmFtZX19PC9oMz4KICAgICAgICA8cCBjbGFzcz0iY2hhcmFjdGVyLWNhcmRfX29yaWdpbiI+CiAgICAgICAgICAgIDxzdHJvbmcgY2xhc3M9ImNoYXJhY3Rlci1jYXJkX19vcmlnaW4tLWNsIj5PcmlnaW46PC9zdHJvbmc+IHt7b3JpZ2lufX0KICAgICAgICA8L3A+CiAgICAgICAgPHAgY2xhc3M9ImNoYXJhY3Rlci1jYXJkX19sb2NhdGlvbiI+CiAgICAgICAgICAgIDxzdHJvbmcgY2xhc3M9ImNoYXJhY3Rlci1jYXJkX19sb2NhdGlvbi0tY2wiPkxvY2F0aW9uOjwvc3Ryb25nPiB7e2xvY2F0aW9ufX0KICAgICAgICA8L3A+CiAgICA8L2Rpdj4KPC9hcnRpY2xlPg==",self.location);let p=null,r=1,d=null,m=!1;function h(){document.querySelectorAll(".dropdown.dropdown--open").forEach(t=>t.classList.remove("dropdown--open"))}function Y(){const t=document.querySelectorAll(".dropdown");t.length&&(t.forEach(e=>{const n=e.dataset.select,a=e.querySelector(".dropdown__trigger"),o=e.querySelector(".dropdown__value"),l=e.querySelectorAll(".dropdown__item"),c=document.getElementById(`filter-${n}`);if(!a||!o||!l.length||!c)return;const u=c.options[c.selectedIndex];if(u){const i=u.value,s=u.textContent.trim();o.textContent=s,l.forEach(g=>{g.classList.toggle("dropdown__item--selected",g.dataset.value===i)})}a.addEventListener("click",i=>{i.stopPropagation();const s=e.classList.contains("dropdown--open");h(),s||e.classList.add("dropdown--open")}),l.forEach(i=>{i.addEventListener("click",()=>{const s=i.dataset.value,g=i.textContent.trim();o.textContent=g,l.forEach(I=>I.classList.toggle("dropdown__item--selected",I===i)),c.value=s,c.dispatchEvent(new Event("change",{bubbles:!0})),h()})})}),document.addEventListener("click",e=>{e.target.closest(".dropdown")||h()}))}async function b(){const t=document.getElementById("characters-root"),n=await(await fetch(y)).text();t.innerHTML=n}async function L(){const e=await(await fetch(w)).text();p=Handlebars.compile(e)}async function v(t){const e=`${A}?page=${t}`,n=await fetch(e);if(!n.ok)throw new Error("Failed to load characters");return await n.json()}function X(t,e=!1){const n=document.getElementById("characters-list"),a=t.map(o=>{var l,c;return p({name:o.name,image:o.image,origin:((l=o.origin)==null?void 0:l.name)||"Unknown",location:((c=o.location)==null?void 0:c.name)||"Unknown"})}).join("");e?n.insertAdjacentHTML("beforeend",a):n.innerHTML=a}function f(){const t=document.getElementById("characters-load-more");if(!t)return;const e=d!==null&&r>=d;t.style.display=e?"none":"inline-block",t.disabled=e||m}async function P(){r=1,await C(r,!1)}async function j(){m||d!==null&&r>=d||(r+=1,await C(r,!0))}async function C(t,e){var n;try{m=!0,f();const a=await v(t);d=((n=a.info)==null?void 0:n.pages)??null,X(a.results,e)}catch(a){console.error(a)}finally{m=!1,f()}}function x(){const t=document.getElementById("characters-load-more");t&&t.addEventListener("click",j)}async function E(){await b(),Y(),await L(),x(),await P()}document.addEventListener("DOMContentLoaded",E);
